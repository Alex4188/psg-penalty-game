<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<title>Angry Birds - Web Game</title>
<style>
  body { margin:0; overflow:hidden; background: #87CEEB; }
  canvas { display:block; background:#87CEEB; }
</style>
</head>
<body>
<canvas id="gameCanvas"></canvas>
<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

// Пташка
let bird = { x:150, y:canvas.height-150, radius:20, color:'red', vx:0, vy:0, dragging:false };

// Ціль
let target = { x:canvas.width-200, y:canvas.height-200, width:50, height:50, color:'green', hit:false };

// Гравітація
const gravity = 0.5;

canvas.addEventListener('mousedown', (e)=>{
  const dx = e.clientX - bird.x;
  const dy = e.clientY - bird.y;
  if(Math.sqrt(dx*dx + dy*dy) < bird.radius) bird.dragging = true;
});

canvas.addEventListener('mousemove', (e)=>{
  if(bird.dragging){ bird.x = e.clientX; bird.y = e.clientY; }
});

canvas.addEventListener('mouseup', (e)=>{
  if(bird.dragging){
    bird.vx = (bird.x - 150)/10;
    bird.vy = (bird.y - (canvas.height-150))/10;
    bird.dragging = false;
  }
});

function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  
  // Пташка
  ctx.beginPath();
  ctx.arc(bird.x,bird.y,bird.radius,0,Math.PI*2);
  ctx.fillStyle = bird.color;
  ctx.fill();
  ctx.closePath();

  // Ціль
  if(!target.hit){
    ctx.fillStyle = target.color;
    ctx.fillRect(target.x,target.y,target.width,target.height);
  }
}

function update(){
  if(!bird.dragging){
    bird.vy += gravity;
    bird.x -= bird.vx;
    bird.y -= bird.vy;

    // Перевірка попадання
    if(!target.hit && bird.x + bird.radius > target.x && bird.x - bird.radius < target.x + target.width &&
       bird.y + bird.radius > target.y && bird.y - bird.radius < target.y + target.height){
      target.hit = true;
      alert('Попав!');
      resetBird();
    }

    // Відновлення пташки після падіння
    if(bird.y - bird.radius > canvas.height || bird.x + bird.radius < 0){
      resetBird();
    }
  }
}

function resetBird(){
  bird.x = 150;
  bird.y = canvas.height-150;
  bird.vx = 0;
  bird.vy = 0;
}

function loop(){
  draw();
  update();
  requestAnimationFrame(loop);
}

loop();
</script>
</body>
</html>
